# –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (i18n)

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:

1. **Cookie** `NEXT_LOCALE` (–µ—Å–ª–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
2. **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è** - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω—É –ø–æ IP —á–µ—Ä–µ–∑ Cloudflare/Vercel headers
3. **Accept-Language** –∑–∞–≥–æ–ª–æ–≤–æ–∫ –±—Ä–∞—É–∑–µ—Ä–∞ (fallback)

### –ü—Ä–∞–≤–∏–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞:

- **–†—É—Å—Å–∫–∏–π —è–∑—ã–∫** –¥–ª—è —Å—Ç—Ä–∞–Ω –°–ù–ì:
  - üá∞üáø –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω (KZ)
  - üá∑üá∫ –†–æ—Å—Å–∏—è (RU)
  - üáßüáæ –ë–µ–ª–∞—Ä—É—Å—å (BY)
  - üá∫üáø –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω (UZ)
  - üá∞üá¨ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω (KG)
  - üáπüáØ –¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω (TJ)
  - üá¶üá≤ –ê—Ä–º–µ–Ω–∏—è (AM)
  - üá¶üáø –ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω (AZ)
  - üá≤üá© –ú–æ–ª–¥–æ–≤–∞ (MD)
  - üáπüá≤ –¢—É—Ä–∫–º–µ–Ω–∏—Å—Ç–∞–Ω (TM)

- **–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫** –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### Client Components

```tsx
'use client';

import { useTranslation } from '@/i18n/use-translation';

export function MyComponent() {
  const { t, locale, changeLocale } = useTranslation();

  return (
    <div>
      <h1>{t.landing.welcome} Lexent AI</h1>
      <p>{t.landing.description}</p>
      <button onClick={() => changeLocale('ru')}>
        –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–∏–π
      </button>
    </div>
  );
}
```

### –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `LanguageSwitcher` —É–∂–µ —Å–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

```tsx
import { LanguageSwitcher } from '@/components/LanguageSwitcher';

// –í –ª—é–±–æ–º –º–µ—Å—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
<LanguageSwitcher />
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

–í—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `/i18n/dictionaries/`:

- `en.ts` - –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- `ru.ts` - —Ä—É—Å—Å–∫–∏–π

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```typescript
{
  landing: {
    welcome: 'Welcome to',
    subtitle: 'Your AI-Powered Book Analysis Assistant',
    description: '...',
  },
  auth: {
    login: 'Sign In',
    register: 'Sign Up',
    ...
  },
  ...
}
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/i18n/dictionaries/en.ts`
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á
3. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ –≤ `/i18n/dictionaries/ru.ts`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —á–µ—Ä–µ–∑ `t.yourKey.subKey`

## Middleware

–§–∞–π–ª `/middleware.ts` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª–æ–∫–∞–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∏–∑–∏—Ç–µ
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±–æ—Ä –≤ cookie `NEXT_LOCALE`
- –ù–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç cookie –µ—Å–ª–∏ –æ–Ω —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ

–ß—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ª–æ–∫–∞–ª–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Application ‚Üí Cookies
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NEXT_LOCALE` –≤ `ru` –∏–ª–∏ `en`
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `x-vercel-ip-country` —Å –∫–æ–¥–æ–º —Å—Ç—Ä–∞–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

Cloudflare –¥–æ–±–∞–≤–ª—è–µ—Ç `cf-ipcountry`.

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í form –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```tsx
const { t } = useTranslation();

<input 
  placeholder={t.auth.email}
  type="email"
/>
<button>{t.auth.loginButton}</button>
```

### –í –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö

```tsx
<h1 className="text-4xl">
  {t.landing.welcome} <span className="font-advercase">Lexent AI</span>
</h1>
```

### –°–º–µ–Ω–∞ —è–∑—ã–∫–∞ –≤—Ä—É—á–Ω—É—é

```tsx
<button onClick={() => changeLocale('ru')}>
  üá∑üá∫ –†—É—Å—Å–∫–∏–π
</button>
<button onClick={() => changeLocale('en')}>
  üá¨üáß English
</button>
```
